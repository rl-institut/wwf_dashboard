<!DOCTYPE html>
<html>
  <head>
    <script src = "static/js/d3.min.js"></script>
    <style>

    #chart div {
      font: 10px sans-serif;
      text-align: right;
      padding: 3px;
      margin: 1px;
      color: white;
    }

    </style>
    <title>D3 Chart </title>
  </head>

  <body>
    <select id="select_year" onchange="changeYear(this.value);"></select>
    <div id="chart"></div>
    <script>
      const margin = {top: 30, right: 30, bottom: 70, left: 60};
      const width = 460 - margin.left - margin.right;
      const height = 400 - margin.top - margin.bottom;

      var data = {{data|tojson}};

      const select = document.getElementById("select_year");
      for (var i = data.length - 1; i>=0; i--){
          var opt = document.createElement("option");
          opt.value = data[i].year;
          opt.innerHTML = data[i].year;
          select.appendChild(opt);
      }
    </script>
    <script src="static/js/chart.js"></script>
  </body>
</html>